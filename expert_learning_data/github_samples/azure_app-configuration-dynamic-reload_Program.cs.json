{
  "repo": "dotnet/samples",
  "file_path": "azure/app-configuration-dynamic-reload/Program.cs",
  "file_name": "Program.cs",
  "content": "using app_configuration_dynamic_reload.Models;\n\n\n\nvar builder = WebApplication.CreateBuilder(args);\n\n// Read configuration\nvar connectionString = builder.Configuration.GetConnectionString(\"AppConfig\");\n\n// Configure Azure App Configuration\nbuilder.Host.ConfigureAppConfiguration(builder => builder.AddAzureAppConfiguration(options =>\n{\n    options.Connect(connectionString)\n        .ConfigureRefresh(refresh =>\n        {\n            refresh.Register(\"TestApp:Settings:Sentinel\", refreshAll: true)\n                                           .SetCacheExpiration(TimeSpan.FromSeconds(10));\n        });\n\n}));\n\n// Add services to the container.\nbuilder.Services.Configure<PageSettings>(builder.Configuration.GetSection(\"TestApp:Settings\"));\nbuilder.Services.AddRazorPages();\nbuilder.Services.AddAzureAppConfiguration();\n\nvar app = builder.Build();\n\n// Configure the HTTP request pipeline.\nif (!app.Environment.IsDevelopment())\n{\n    app.UseExceptionHandler(\"/Error\");\n    // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.\n    app.UseHsts();\n}\n\napp.UseAzureAppConfiguration();\n\napp.UseHttpsRedirection();\napp.UseStaticFiles();\n\napp.UseRouting();\n\napp.UseAuthorization();\n\napp.MapRazorPages();\n\napp.Run();\n",
  "analysis": {
    "lines": 49,
    "classes": 0,
    "methods": 0,
    "interfaces": 0,
    "usings": [
      "app_configuration_dynamic_reload.Models"
    ],
    "namespaces": [],
    "has_async": false,
    "has_linq": false,
    "has_generics": true,
    "complexity_estimate": 2,
    "quality_score": 0.7
  },
  "size": 1277,
  "url": "https://github.com/dotnet/samples/blob/main/azure/app-configuration-dynamic-reload/Program.cs",
  "collected_at": "2025-06-25T19:29:07.328616"
}